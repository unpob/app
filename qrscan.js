document.getElementById("scanButton").addEventListener("click",async function(){let e=new ZXing.BrowserQRCodeReader,t=document.getElementById("video"),a=await navigator.mediaDevices.enumerateDevices(),i;a.length>0&&(i=a[0].deviceId),a.forEach(e=>{"videoinput"===e.kind&&e.label&&e.label.length>0&&e.label.toLowerCase().indexOf("back")>=0&&(i=e.deviceId)});let c=async a=>{try{let i=await navigator.mediaDevices.getUserMedia(a);return t.srcObject=i,t.style.display="block",e.decodeOnceFromVideoDevice(void 0,"video").then(e=>{i.getTracks().forEach(e=>e.stop()),t.style.display="none",e.text.startsWith("sadnan.html?")||e.text.startsWith("pay.html?")||e.text.startsWith("text")?window.location.href=e.text:alert("à¦†à¦ªà¦¨à¦¾à¦° à¦¸à§à¦•à§‡à¦¨ à¦•à¦°à¦¾ à¦•à§‹à¦¡ à¦¸à¦ à¦¿à¦• à¦¨à§Ÿ")}).catch(e=>{console.error("Error decoding QR Code: ",e),i.getTracks().forEach(e=>e.stop()),t.style.display="none"})}catch(c){return console.error("Error accessing camera: ",c),!1}};await c({video:{deviceId:{exact:i}}})||await c({video:{facingMode:{exact:"environment"}}})});
